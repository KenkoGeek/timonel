#!/usr/bin/env sh

# Validate conventional commits with mandatory scopes
echo "🔍 Validating commit message format..."
pnpm exec commitlint --edit "$1" || {
  echo "❌ Commit message validation failed!"
  echo ""
  echo "📝 Required format: type(scope): description"
  echo ""
  echo "📋 Valid types: feat, fix, docs, style, refactor, perf, test, chore, ci, build, revert"
  echo "📋 Valid scopes: core, cli, helm, aws, azure, gcp, onprem, network, umbrella, examples, docs, ci, deps, release"
  echo ""
  echo "✅ Examples:"
  echo "   feat(network): add NetworkPolicy helpers"
  echo "   fix(core): resolve TypeScript strict type errors"
  echo "   docs(examples): update WordPress example"
  echo "   chore(release): bump version to 0.5.0"
  echo ""
  exit 1
}
